# タスク: ユーザー一覧PDF出力機能の実装

- [x] 現状調査と設計
    - [x] `user-list.tsx` の構造確認 (完了)
    - [x] 日本語フォント対応の検討
- [x] ライブラリのインストール
    - [x] `pdf-lib` のインストール
    - [x] (`fontkit` が必要か確認)
- [x] PDF生成ロジックの実装
    - [x] 日本語フォントの読み込み処理
    - [x] テーブルデータからのPDF描画処理
- [x] UI実装
    - [x] 新規登録ボタンの横にPDF出力ボタンを追加（緑色）
    - [x] ボタンクリック時のイベントハンドラ実装
- [/] 動作確認
    - [x] ローディング表示の追加（UX改善）
    - [x] 進捗状況の詳細表示（「フォントダウンロード中...」など）
    - [x] フォントキャッシュの実装（2回目以降の高速化）
    - [x] フォントのローカル配置（ダウンロード遅延対策）
- [x] fontkitの型定義追加とインポート修正
- [x] サーバーサイドPDF生成への移行
    - [x] PDF生成ロジックのリファクタリング（フォントバッファ受け取り）
    - [x] Resource Route (`resources.user-list-pdf.ts`) の作成
    - [x] `user-list.tsx` のボタンをリンクに変更
- [x] パフォーマンス改善（5秒以内目標）
    - [x] 計測コードの実装
    - [x] ボトルネックの特定（描画処理とフォントサイズ）
    - [x] 改善策の実施（動的フォントサブセット化、インメモリキャッシュ）
- [x] 動作確認
